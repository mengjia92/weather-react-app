(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,t,i){},25:function(e,t,i){},51:function(e,t,i){"use strict";i.r(t);var n=i(1),a=i.n(n),r=i(19),s=i.n(r),c=(i(24),i(25),i(3)),o=i(4),l=i(6),u=i(5),d=i(10),h=i.n(d),m=(i(7),i.p,i(8)),p=i.n(m);function j(e){return Math.round(5*(e-32)/9)}function v(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+(t.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+"-"+t.getDate().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}function y(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+(t.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+"-"+t.getDate().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+" "+t.getHours().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":00"}function g(e){var t=new Date(1e3*e);return t.getHours().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+t.getMinutes().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}function b(e){switch(e){case"clear-day":return"CLEAR_DAY";case"clear-night":return"CLEAR_NIGHT";case"partly-cloudy-day":return"PARTLY_CLOUDY_DAY";case"partly-cloudy-night":return"PARTLY_CLOUDY_NIGHT";default:return e.toUpperCase()}}var w=i(0),O=function(e){Object(l.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"dailyRow",style:{lineHeight:"1.2em"},children:"Sunrise: "+g(this.props.extraSunrise)}),Object(w.jsx)("div",{className:"dailyRow",style:{lineHeight:"1.2em"},children:"Sunset: "+g(this.props.extraSunset)}),Object(w.jsx)("div",{className:"dailyRow",style:{lineHeight:"1.2em"},children:this.props.extraSummary})]})}}]),i}(n.Component),f=function(e){Object(l.a)(i,e);var t=Object(u.a)(i);function i(){var e;Object(c.a)(this,i);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={isClicked:!1,divColor:"initial"},e}return Object(o.a)(i,[{key:"getMore",value:function(){this.setState({isClicked:!1,divColor:"initial"})}},{key:"foldMore",value:function(){this.setState({isClicked:!0,divColor:"rgba(51, 8, 103, 0.2)"})}},{key:"moreDetails",value:function(){this.state.isClicked?this.getMore():this.foldMore()}},{key:"render",value:function(){var e,t=this.state,i=t.isClicked,n=t.divColor;return Object(w.jsxs)("div",{className:"daily",onClick:this.moreDetails.bind(this),style:{backgroundColor:n},children:[Object(w.jsx)(p.a,{icon:b(this.props.iconVal),color:"gold",size:50}),Object(w.jsx)("div",{className:"dailyRow",children:v(this.props.timeVal)}),Object(w.jsx)("div",{className:"dailyRow",children:(e=this.props.timeVal,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(1e3*e).getDay()])}),Object(w.jsx)("div",{className:"dailyRow",children:"High: "+j(this.props.tempHighVal)}),Object(w.jsx)("div",{className:"dailyRow",children:"Low: "+j(this.props.tempLowVal)}),i?Object(w.jsx)(O,{extraSunrise:this.props.sunrise,extraSunset:this.props.sunset,extraSummary:this.props.summary}):Object(w.jsx)("div",{})]})}}]),i}(n.Component),x=function(e){Object(l.a)(i,e);var t=Object(u.a)(i);function i(){var e;Object(c.a)(this,i);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={newSearch:""},e}return Object(o.a)(i,[{key:"getNewSearch",value:function(){this.props.newCity(this.state.newSearch)}},{key:"render",value:function(){var e=this;return Object(w.jsxs)("div",{className:"weatherRow searchBar",children:[Object(w.jsx)("input",{type:"search",placeholder:"Search city...",className:"my-search","ng-model":"$ctrl.pesquisa","ng-disabled":"'@ViewBag.EditaConteudo'",value:this.state.newSearch,onChange:function(t){e.setState({newSearch:t.target.value})}}),Object(w.jsx)("button",{onClick:this.getNewSearch.bind(this),children:"Search"})]})}}]),i}(n.Component),C=function(e){Object(l.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){return Object(w.jsxs)("div",{className:"weatherColumn",children:[Object(w.jsx)("div",{className:"currLocation",children:this.props.currLoc}),Object(w.jsxs)("div",{className:"weatherRow",children:[Object(w.jsx)("div",{className:"weatherIcon",children:Object(w.jsx)(p.a,{icon:b(this.props.iconVal),color:"white",size:100})}),Object(w.jsxs)("div",{className:"degree",children:[j(this.props.tempVal),"\xb0C"]}),Object(w.jsxs)("div",{className:"currInfo",children:[Object(w.jsx)("p",{children:this.props.timeVal}),Object(w.jsx)("p",{children:this.props.summary}),Object(w.jsx)("p",{children:"Humidity: "+this.props.humidVal}),Object(w.jsx)("p",{children:"Pressure: "+this.props.pressureVal})]})]})]})}}]),i}(n.Component),S=function(e){Object(l.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){return Object(w.jsxs)("div",{className:"hourly",children:[Object(w.jsx)("div",{style:{width:"25%"},children:y(this.props.timeVal)}),Object(w.jsxs)("div",{style:{width:"15%"},children:[j(this.props.tempVal),"\xb0C"]}),Object(w.jsx)("div",{style:{width:"20%",textAlign:"right"},children:Object(w.jsx)(p.a,{icon:b(this.props.iconVal),color:"gold",size:20})}),Object(w.jsx)("div",{style:{width:"40%"},children:this.props.summary})]})}}]),i}(n.Component),k=function(e){Object(l.a)(i,e);var t=Object(u.a)(i);function i(){var e;Object(c.a)(this,i);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={newWeather:{},currLocInfo:{},isLoading:!0,isClicked:!1,switchContent:"Weather Forecast for 48 Hours",newCity:"Toronto"},e}return Object(o.a)(i,[{key:"getNewLocation",value:function(e){var t=this;h.a.get("".concat("http://api.weatherstack.com/current","?access_key=").concat("12d801c2e3a61befbeb5b514f7645330","&query=").concat(this.state.newCity)).then((function(e){var i,n;t.setState({currLocInfo:e.data});var a=null===(i=e.data)||void 0===i?void 0:i.location.lat,r=null===(n=e.data)||void 0===n?void 0:n.location.lon;t.loadData(a,r)})).catch((function(e){return console.log("err",e)}))}},{key:"loadData",value:function(e,t){var i=this;h.a.get("".concat("https://skill-test-api.mark2win.com/api/weather","/").concat(e,"/").concat(t)).then((function(e){i.setState({newWeather:e.data,isLoading:!1})})).catch((function(e){return console.log("err",e)}))}},{key:"getNewSearch",value:function(e){this.setState({newCity:e})}},{key:"componentDidMount",value:function(){this.getNewLocation(this.state.newCity)}},{key:"componentDidUpdate",value:function(e,t,i){t.newCity!==this.state.newCity&&this.getNewLocation(this.state.newCity)}},{key:"getNext7DaysForecast",value:function(){this.setState({isClicked:!1,switchContent:"Weather Forecast for 48 Hours"})}},{key:"get48HoursForecast",value:function(){this.setState({isClicked:!0,switchContent:"Weather Forecast for Next 7 Days"})}},{key:"switchForecast",value:function(){this.state.isClicked?this.getNext7DaysForecast():this.get48HoursForecast()}},{key:"render",value:function(){var e,t,i,n,a,r,s,c,o,l,u,d,h=this,m=this.state,p=m.newWeather,j=m.currLocInfo,v=m.isLoading,y=m.isClicked,g=m.switchContent;m.newCity;return v?Object(w.jsx)("div",{}):Object(w.jsxs)("div",{className:"weather",children:[Object(w.jsx)(x,{newCity:function(e){return h.getNewSearch(e)}}),Object(w.jsx)(C,{currLoc:"".concat(null===j||void 0===j||null===(e=j.location)||void 0===e?void 0:e.country,"/").concat(null===j||void 0===j||null===(t=j.location)||void 0===t?void 0:t.name),iconVal:null===p||void 0===p||null===(i=p.currently)||void 0===i?void 0:i.icon,tempVal:null===p||void 0===p||null===(n=p.currently)||void 0===n?void 0:n.temperature,timeVal:null===j||void 0===j||null===(a=j.location)||void 0===a?void 0:a.localtime,summary:null===p||void 0===p||null===(r=p.currently)||void 0===r?void 0:r.summary,humidVal:null===p||void 0===p||null===(s=p.currently)||void 0===s?void 0:s.humidity,pressureVal:null===p||void 0===p||null===(c=p.currently)||void 0===c?void 0:c.pressure}),Object(w.jsx)("div",{className:"switchBoard",onClick:this.switchForecast.bind(this),children:g}),y?Object(w.jsx)("div",{className:"weatherColumn hourlyBoard",children:null===p||void 0===p||null===(o=p.hourly)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.map((function(e){return Object(w.jsx)(S,{timeVal:e.time,tempVal:e.temperature,iconVal:e.icon,summary:e.summary})}))}):Object(w.jsx)("div",{className:"weatherRow dailyBoard",children:null===p||void 0===p||null===(u=p.daily)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.map((function(e){return Object(w.jsx)(f,{iconVal:e.icon,timeVal:e.time,tempHighVal:e.temperatureHigh,tempLowVal:e.temperatureLow,summary:e.summary,sunrise:e.sunriseTime,sunset:e.sunsetTime})}))})]})}}]),i}(n.Component);var N=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(k,{})})};s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(N,{})}),document.getElementById("root"))},7:function(e,t,i){}},[[51,1,2]]]);
//# sourceMappingURL=main.09ac2c60.chunk.js.map